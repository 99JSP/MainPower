// server/server.ts
var MP = global.exports["MP-Base"].GetObject();
onNet("MP-Banking:Open", async (source2) => {
  const src = global.source;
  const Player = MP.Functions.GetPlayer(src);
  const data = Player.Data;
  const cash = data.cash;
  const bank = data.bank;
  const name = `${data.firstname} ${data.lastname}`;
  emitNet("MP-Banking:OpenClient", src, cash, bank, name);
});
onNet("MP-Banking:withdraw", function(amount) {
  const src = source;
  const Player = MP.Functions.GetPlayer(src);
  const cash = Player.Data.cash;
  const bank = Player.Data.bank;
  const swap = Player.Functions.swapMoney("cash", amount);
  setTimeout(() => {
    const Player2 = MP.Functions.GetPlayer(src);
    const cash2 = Player2.Data.cash;
    const bank2 = Player2.Data.bank;
    emitNet("MP-Banking:UpdateClient", Player2.Data.PlayerId, cash2, bank2);
  }, 1e3);
});
onNet("MP-Banking:deposit", function(amount) {
  const src = source;
  const Player = MP.Functions.GetPlayer(src);
  const cash = Player.Data.cash;
  const bank = Player.Data.bank;
  const swap = Player.Functions.swapMoney("bank", amount);
  setTimeout(() => {
    const Player2 = MP.Functions.GetPlayer(src);
    const cash2 = Player2.Data.cash;
    const bank2 = Player2.Data.bank;
    emitNet("MP-Banking:UpdateClient", Player2.Data.PlayerId, cash2, bank2);
  }, 1e3);
});
onNet("MP-Banking:transfer", function(amount, id) {
  const src = source;
  const Player = MP.Functions.GetPlayer(src);
  const cash = Player.Data.cash;
  const bank = Player.Data.bank;
  emitNet(
    "chat:addMessage",
    Player.Data.PlayerId,
    `Banking: Transfer payment of ${amount} was denied as banking is currently under maintenance`
  );
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc2VydmVyL3NlcnZlci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiXG5jb25zdCBNUCA9IGdsb2JhbC5leHBvcnRzWydNUC1CYXNlJ10uR2V0T2JqZWN0KClcblxub25OZXQoJ01QLUJhbmtpbmc6T3BlbicsIGFzeW5jIChzb3VyY2U6IG51bWJlcikgPT4ge1xuICBjb25zdCBzcmMgPSBnbG9iYWwuc291cmNlXG4gIGNvbnN0IFBsYXllciA9IE1QLkZ1bmN0aW9ucy5HZXRQbGF5ZXIoc3JjKVxuICBjb25zdCBkYXRhID0gUGxheWVyLkRhdGFcbiAgY29uc3QgY2FzaCA9IGRhdGEuY2FzaFxuICBjb25zdCBiYW5rID0gZGF0YS5iYW5rXG4gIGNvbnN0IG5hbWUgPSBgJHtkYXRhLmZpcnN0bmFtZX0gJHtkYXRhLmxhc3RuYW1lfWBcbiAgZW1pdE5ldCgnTVAtQmFua2luZzpPcGVuQ2xpZW50Jywgc3JjLCBjYXNoLCBiYW5rLCBuYW1lKVxufSlcblxub25OZXQoJ01QLUJhbmtpbmc6d2l0aGRyYXcnLCBmdW5jdGlvbiAoYW1vdW50OiBudW1iZXIpIHtcbiAgY29uc3Qgc3JjID0gc291cmNlXG4gIGNvbnN0IFBsYXllciA9IE1QLkZ1bmN0aW9ucy5HZXRQbGF5ZXIoc3JjKVxuICBjb25zdCBjYXNoID0gUGxheWVyLkRhdGEuY2FzaFxuICBjb25zdCBiYW5rID0gUGxheWVyLkRhdGEuYmFua1xuICBjb25zdCBzd2FwID0gUGxheWVyLkZ1bmN0aW9ucy5zd2FwTW9uZXkoJ2Nhc2gnLCBhbW91bnQpXG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc3QgUGxheWVyID0gTVAuRnVuY3Rpb25zLkdldFBsYXllcihzcmMpXG4gICAgY29uc3QgY2FzaCA9IFBsYXllci5EYXRhLmNhc2hcbiAgICBjb25zdCBiYW5rID0gUGxheWVyLkRhdGEuYmFua1xuICAgIGVtaXROZXQoJ01QLUJhbmtpbmc6VXBkYXRlQ2xpZW50JywgUGxheWVyLkRhdGEuUGxheWVySWQsIGNhc2gsIGJhbmspXG4gIH0sIDEwMDApIC8vIDEwMDAgbWlsbGlzZWNvbmRzICgyIHNlY29uZHMpXG59KVxuXG5vbk5ldCgnTVAtQmFua2luZzpkZXBvc2l0JywgZnVuY3Rpb24gKGFtb3VudDogbnVtYmVyKSB7XG4gIGNvbnN0IHNyYyA9IHNvdXJjZVxuICBjb25zdCBQbGF5ZXIgPSBNUC5GdW5jdGlvbnMuR2V0UGxheWVyKHNyYylcbiAgLy8gbmV3UGxheWVyIGZ1bmN0aW9uIHRvIG1ha2UgYmFua2luZyBhIGxvdCBlYXNpZXIuIHN3YXBNb25leVtzd2FwcGluZzIsIGFtb3VudF1cbiAgY29uc3QgY2FzaCA9IFBsYXllci5EYXRhLmNhc2hcbiAgY29uc3QgYmFuayA9IFBsYXllci5EYXRhLmJhbmtcbiAgY29uc3Qgc3dhcCA9IFBsYXllci5GdW5jdGlvbnMuc3dhcE1vbmV5KCdiYW5rJywgYW1vdW50KVxuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnN0IFBsYXllciA9IE1QLkZ1bmN0aW9ucy5HZXRQbGF5ZXIoc3JjKVxuICAgIGNvbnN0IGNhc2ggPSBQbGF5ZXIuRGF0YS5jYXNoXG4gICAgY29uc3QgYmFuayA9IFBsYXllci5EYXRhLmJhbmtcbiAgICBlbWl0TmV0KCdNUC1CYW5raW5nOlVwZGF0ZUNsaWVudCcsIFBsYXllci5EYXRhLlBsYXllcklkLCBjYXNoLCBiYW5rKVxuICB9LCAxMDAwKSAvLyAxMDAwIG1pbGxpc2Vjb25kcyAoMiBzZWNvbmRzKVxufSlcblxub25OZXQoJ01QLUJhbmtpbmc6dHJhbnNmZXInLCBmdW5jdGlvbiAoYW1vdW50OiBudW1iZXIsIGlkOiBudW1iZXIpIHtcbiAgY29uc3Qgc3JjID0gc291cmNlXG4gIGNvbnN0IFBsYXllciA9IE1QLkZ1bmN0aW9ucy5HZXRQbGF5ZXIoc3JjKVxuICAvLyBuZXdQbGF5ZXIgZnVuY3Rpb24gdG8gbWFrZSBiYW5raW5nIGEgbG90IGVhc2llci4gc3dhcE1vbmV5W3N3YXBwaW5nMiwgYW1vdW50XVxuICBjb25zdCBjYXNoID0gUGxheWVyLkRhdGEuY2FzaFxuICBjb25zdCBiYW5rID0gUGxheWVyLkRhdGEuYmFua1xuXG4gIGVtaXROZXQoXG4gICAgJ2NoYXQ6YWRkTWVzc2FnZScsXG4gICAgUGxheWVyLkRhdGEuUGxheWVySWQsXG4gICAgYEJhbmtpbmc6IFRyYW5zZmVyIHBheW1lbnQgb2YgJHthbW91bnR9IHdhcyBkZW5pZWQgYXMgYmFua2luZyBpcyBjdXJyZW50bHkgdW5kZXIgbWFpbnRlbmFuY2VgLFxuICApXG59KVxuXG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQ0EsSUFBTSxLQUFLLE9BQU8sUUFBUSxXQUFXLFVBQVU7QUFFL0MsTUFBTSxtQkFBbUIsT0FBT0EsWUFBbUI7QUFDakQsUUFBTSxNQUFNLE9BQU87QUFDbkIsUUFBTSxTQUFTLEdBQUcsVUFBVSxVQUFVLEdBQUc7QUFDekMsUUFBTSxPQUFPLE9BQU87QUFDcEIsUUFBTSxPQUFPLEtBQUs7QUFDbEIsUUFBTSxPQUFPLEtBQUs7QUFDbEIsUUFBTSxPQUFPLEdBQUcsS0FBSyxhQUFhLEtBQUs7QUFDdkMsVUFBUSx5QkFBeUIsS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUN4RCxDQUFDO0FBRUQsTUFBTSx1QkFBdUIsU0FBVSxRQUFnQjtBQUNyRCxRQUFNLE1BQU07QUFDWixRQUFNLFNBQVMsR0FBRyxVQUFVLFVBQVUsR0FBRztBQUN6QyxRQUFNLE9BQU8sT0FBTyxLQUFLO0FBQ3pCLFFBQU0sT0FBTyxPQUFPLEtBQUs7QUFDekIsUUFBTSxPQUFPLE9BQU8sVUFBVSxVQUFVLFFBQVEsTUFBTTtBQUV0RCxhQUFXLE1BQU07QUFDZixVQUFNQyxVQUFTLEdBQUcsVUFBVSxVQUFVLEdBQUc7QUFDekMsVUFBTUMsUUFBT0QsUUFBTyxLQUFLO0FBQ3pCLFVBQU1FLFFBQU9GLFFBQU8sS0FBSztBQUN6QixZQUFRLDJCQUEyQkEsUUFBTyxLQUFLLFVBQVVDLE9BQU1DLEtBQUk7QUFBQSxFQUNyRSxHQUFHLEdBQUk7QUFDVCxDQUFDO0FBRUQsTUFBTSxzQkFBc0IsU0FBVSxRQUFnQjtBQUNwRCxRQUFNLE1BQU07QUFDWixRQUFNLFNBQVMsR0FBRyxVQUFVLFVBQVUsR0FBRztBQUV6QyxRQUFNLE9BQU8sT0FBTyxLQUFLO0FBQ3pCLFFBQU0sT0FBTyxPQUFPLEtBQUs7QUFDekIsUUFBTSxPQUFPLE9BQU8sVUFBVSxVQUFVLFFBQVEsTUFBTTtBQUV0RCxhQUFXLE1BQU07QUFDZixVQUFNRixVQUFTLEdBQUcsVUFBVSxVQUFVLEdBQUc7QUFDekMsVUFBTUMsUUFBT0QsUUFBTyxLQUFLO0FBQ3pCLFVBQU1FLFFBQU9GLFFBQU8sS0FBSztBQUN6QixZQUFRLDJCQUEyQkEsUUFBTyxLQUFLLFVBQVVDLE9BQU1DLEtBQUk7QUFBQSxFQUNyRSxHQUFHLEdBQUk7QUFDVCxDQUFDO0FBRUQsTUFBTSx1QkFBdUIsU0FBVSxRQUFnQixJQUFZO0FBQ2pFLFFBQU0sTUFBTTtBQUNaLFFBQU0sU0FBUyxHQUFHLFVBQVUsVUFBVSxHQUFHO0FBRXpDLFFBQU0sT0FBTyxPQUFPLEtBQUs7QUFDekIsUUFBTSxPQUFPLE9BQU8sS0FBSztBQUV6QjtBQUFBLElBQ0U7QUFBQSxJQUNBLE9BQU8sS0FBSztBQUFBLElBQ1osZ0NBQWdDO0FBQUEsRUFDbEM7QUFDRixDQUFDOyIsCiAgIm5hbWVzIjogWyJzb3VyY2UiLCAiUGxheWVyIiwgImNhc2giLCAiYmFuayJdCn0K
